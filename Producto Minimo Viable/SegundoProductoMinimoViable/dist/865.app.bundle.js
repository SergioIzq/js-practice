"use strict";(self.webpackChunkproyectomvp=self.webpackChunkproyectomvp||[]).push([[865],{865:(e,t,n)=>{n.r(t),n.d(t,{Auth:()=>o});var s=n(683);class o extends s.Z{#e="components/auth/auth.html";async render(){return await this.fetchFile(this.#e)}login(e){if(this.#t())return e.load("home"),!0;document.querySelector("form.login").addEventListener("submit",(async t=>{t.preventDefault();const n=t.target.elements[0].value,s=t.target.elements[1].value;let o=await this.#n(n,s);return"token"in o?(sessionStorage.setItem("token",o.token),e.load("home"),!0):(alert(o.message),!1)}))}#t(){return null!==sessionStorage.getItem("token")}logout(e){return sessionStorage.removeItem("token"),e.load("login"),!0}async#n(e,t){let n=await fetch("https://dummyjson.com/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})});return await n.json()}}},683:(e,t,n)=>{n.d(t,{Z:()=>s});const s=class{async fetchFile(e){let t=await fetch(e);return await t.text()}}}}]);